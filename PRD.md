# Web 版 AI 旅行规划师（AI Travel Planner）PRD

## 项目概述
- 桌面 Web 版“AI 旅行规划师”，通过语音与文字收集需求，由 AI 自动生成个性化行程并提供费用管理（仅本地后端部署与本地数据存储；不含云端同步与移动端适配）。
- 面向需要高效规划的个人或家庭用户，强调地图主导的交互和清晰的行程呈现。

## 项目目标
- 降低旅行规划的时间与复杂度，自动产出交通、住宿、景点与餐饮的可执行计划。
- 提供预算估算与开销记录能力，支持桌面端查看与实时修改。
- 通过注册登录管理多份行程，保障数据在云端安全同步。

## 项目范围
- 范围内：智能行程规划、费用预算与管理、用户注册登录与本地数据存储、语音交互（必需）、地图展示与导航。
- 范围外：线下票务购买、保险服务、签证代办、云端数据托管/跨设备同步、非规定以外的增值功能。

## 核心功能
### 智能行程规划
- 通过语音或文字输入目的地、日期、预算、同行人数、偏好等需求。
- AI 自动生成个性化路线，包含交通、住宿、景点、餐厅等细项。
- 输出结构化日程（逐日/逐时段）与关键地点在地图上的标注与导航链接。

### 费用预算与管理
- AI 基于行程给出预算估算与分项成本（交通/住宿/餐饮/景点）。
- 支持记录旅行开销（推荐语音录入），自动归类并对比预算与实际。
- 显示费用统计与提醒（如预算超支预警）。

### 用户管理与数据存储
- 注册登录系统，保存与管理多份旅行计划、偏好配置与费用记录。
- 本地行程与数据持久化（单台电脑），不支持跨电脑登录与同步。

## 用户场景
- 家庭出游：语音描述“日本 5 天，预算 1 万，喜欢美食和动漫，带孩子”，系统生成包含亲子友好景点和餐饮的日程。
- 预算严格短途：系统给出交通与住宿的性价比建议并监控开销。
- 桌面端使用：PC 端查看与调整行程，语音录入开销并查看地图与路线；数据保存在本机。

## 关键用例
- 创建行程：用户输入需求 → AI 规划 → 展示地图与日程 → 可编辑保存。
- 录入开销：拍照/语音备注金额与类别 → 存储并统计 → 对比预算。
- 登录与本地数据：注册登录 → 读取本机历史行程与偏好 → 单机一致。

## UI/UX 要求
- 地图为主的交互界面：核心页面以地图组件为中心，地点标注清晰，支持导航链接。
- 行程展示清晰：逐日/逐时段的卡片视图，含交通、住宿、景点、餐饮信息与图片。
- 语音入口明显：全局可访问的语音按钮，语音转文字后可编辑确认。
- 美观图片：景点与餐厅展示配图，提升可读性与吸引力。

## 技术栈（Web）
- 语音识别：基于科大讯飞或其他语音识别 API。
- 地图导航：基于高德或百度地图 API 提供地理位置与导航能力。
- 数据库/认证：本版本采用本地后端与本地数据库/文件存储实现数据持久化与本地账号；可替换为云服务但本版本不引入。
- 行程规划与费用预算：通过大语言模型 API 完成（模型与平台自选）。
- UI/UX：Web 前端实现地图主导的界面与行程视图。

## 系统架构概要
- 前端 Web：单页应用，集成语音识别接口、地图 SDK、LLM 后端代理、本地数据服务（面向桌面浏览器；不做移动端适配）。
- 后端：本地部署服务，封装对 LLM 的调用与业务逻辑，安全转发第三方 API；对本地数据库进行读写。
- 数据存储：用户信息、行程计划、偏好设置、费用记录等存储在本地数据库；不进行云端同步。
- 密钥管理：不在代码库中保存任何 API Key；通过设置页面或配置文件指定 Key。

## 接口与数据模型（示例字段）
### 行程计划
- 基本信息：`destination`、`startDate`、`endDate`、`budget`、`partySize`、`preferences`
- 结构化日程：`days[]`（每日含 `segments[]`：`timeRange`、`type`、`placeId`、`title`、`notes`、`costEstimate`）
- 地点信息：`places[]`（`placeId`、`name`、`coords`、`category`、`imageUrl`、`mapProviderLink`）

### 费用记录
- `recordId`、`planId`、`date`、`amount`、`category`（交通/住宿/餐饮/景点/其他）、`note`、`inputMethod`（语音/文字）

### 用户与偏好
- `userId`、`email`、`displayName`、`savedPlans[]`、`preferences`（亲子/美食/动漫/自然等）

## 非功能需求
- 性能：常用操作（生成行程、加载地图与日程）在可接受时间内完成；列表与地图交互流畅。
- 可用性：语音识别准确率可用，错误时可改用文字输入。
- 可靠性：本地数据可靠存储；不涉及跨设备同步。
- 安全性与隐私：认证与授权严格；敏感数据加密；不在代码库暴露任何 API Key。
- 兼容性：现代桌面浏览器（Chrome/Edge/Firefox）可用；不做移动端适配。

## 提交与交付要求
- 提交一个 PDF 文件，包含 GitHub 仓库地址与 README 文档。
- 项目代码提交在 GitHub，并提供可直接下载运行的 docker image 文件与运行说明的 README。
- 若未使用阿里云的 API Key（助教有阿里云百炼平台的 Key），需在 README 中提交可用的 Key，并保证 3 个月内可用，以供批改。
- 保留尽可能多且详细的 GitHub 提交记录。
- 可通过 GitHub Actions 将项目打包为 Docker 镜像并推送到阿里云镜像仓库（可查阅官方文档或借助大模型）。

## 验收标准
### 智能行程规划
- 支持语音与文字输入，能生成包含交通、住宿、景点、餐饮的个性化行程。
- 行程以逐日/时段结构展示，地点在地图上正确标注，提供导航链接。

### 费用预算与管理
- 基于行程产生预算估算，分项成本可见。
- 支持记录实际开销（含语音录入），可统计并对比预算与实际。

### 用户管理与数据存储
- 可注册与登录，管理多份计划。
- 本地持久化生效；单台电脑登录与数据管理可用，不涉及跨电脑。

### 提交与交付
- 存在 PDF（含仓库地址与 README），GitHub 代码完整。
- 提供可运行的 docker image 与清晰的运行说明。
- 不在代码中包含任何 API Key；若非阿里云 Key，则 README 中提供并保证 3 个月有效。
- GitHub 提交记录完备；如采用，Actions 能打包并推送镜像至阿里云仓库。

## 风险与假设
- 第三方 API 限额或区域限制可能影响功能稳定性。
- 语音识别准确率受环境影响；需提供文字输入备选。
- LLM 成本与延迟可能随负载与模型选择波动。
- 地图数据差异与地点解析误差可能影响导航体验。

## 里程碑建议（不改变要求）
- 原型与需求冻结：完成语音/文字输入、基础地图、LLM 规划原型。
- 数据与用户系统：接入认证与存储，实现计划与费用的本地持久化。
- 预算与开销：完善预算估算与语音记账流程。
- 打包与交付：完善 README、PDF，构建 docker image，配置可选的 GitHub Actions。
- 测试与验收：根据验收标准进行验证并准备提交材料。

> 说明：以上内容严格依据项目要求整理为 PRD，未擅自增加或删减需求，仅做结构化与可执行化表达。